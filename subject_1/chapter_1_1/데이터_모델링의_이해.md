# 모델링의 이해

## 모델링

### 정의

현실세계에 있는 사람, 사물, 개념 등 다양한 현상을 표기법에 의해 규칙을 가지고 표기하는 것이다.  
이때 변환 과정에서 `추상화(모형화)`, `단순화`, `명확화`를 거쳐 변환된다.

### 특징

**추상화**
현실세계를 일정한 형식에 맞추어 표현 한다는 의미, 다양한 현상을 정해진 양식으로 표기해야하는 것을 의미 함  
**단순화**
복잡한 현실세계의 규칙을 제한된 표기법으로 변환하여 표기해야하는 것을 의미 함  
**명확화**
누구나 이해하기 쉽게 하기 위해 애매모함을 없애고 정확하게 현상을 기술하는것을 의미 함

### 3가지 관점

모델링에는 `데이터관점(Data, What)`, `프로세스관점(Process, How)`, `상관관점(Data vs Process)` 3가지의 관점이 있다.

#### 데이터관점 (Data, What)

업무가 어떤 데이터와 관련이 있는지 또는 데이터간의 관계는 무엇인지에 대해서 모델링하는 방법

#### 프로세스관점 (Process, How)

업무가 실제하고 있는 일은 무엇인지 또는 무엇을 해야하는지를 모델링 하는 방법

#### 데이터와 프로세스의 상관관점 (Data vs Process, Interaction)

업무가 처리하는 일의 방법에 따라 데이터는 어떻게 영향을 받고 있는지 모델링하는 방법

# 데이터 모델의 이해

## 데이터 모델링의 정의

데이터 모델은 데이터베이스의 골격을 이해하고 그 이해를 바탕으로 SQL 작성을 기능과 성능적인 측면에서 효율적으로 작성하기 위해 꼭 알고 가야하는 핵심 요소이다.

- 정보시스템을 구축하기 위해, 해당 업무에 어떤 데이터가 존재하는지 또는 업무가 필요로 하는 정보는 무엇인지를 분석하는 방법
- 업무에 대한 종합적인 이해를 바탕으로 데이터에 존재하는 `업무규칙(Business Rule)`에 대하여 참과 거짓을 판별할 수 있는 `사실(명제)`을 데이터에 접근하는 `방법`, `사람`, `전산화`와는 **독립적인 관점에서 이를 명확하게 표현하는 추상화 기법**

## 데이터 모델링의 기능

데이터 모델링은 아래 6가지의 기능을 제공한다.

- 시스템의 가시화
- 시스템의 구조, 행동에 대한 명세화
- 시스템 구축에 필요한 구조화된 틀(Frame) 제공
- 시스템 구축의 과정에서 나온 결정의 문서화
- 다양한 영역에 집중하기 위해 다른 영역의 세부 사항은 숨길 수 있도록 제공
- 특정 목표에 따라 구체화된 상세 수준의 표현 방법을 제공

# 데이터 모델링의 중요성 및 유의점

## 데이터 모델링의 중요성

중요성은 `파급효과(Leverage)`, `간결한 표현(Conciseness)`, `데이터 품질(Data Quality)` 3가지로 정리 된다.

### 파급효과(Leverage)

시스템 구축이 완료되어 단위 테스트를 통과하고 병행 테스트, 통합 테스트를 진행한다고 했을 때 마지막 통합 테스트에서 데이터 모델의 변경이 불가피 하게 된 상황이 오게 되었다고 가정해보자. 하나의 데이터 구조 변경을 위해서 표준 영향 분석, 응용 변경 영향 분석 등 다양한 영향 분석이 일어난다. 이러한 점을 보았을 때, **데이터 구조의 변경으로 인해 다양한 파급효과가 발생하게 된다는 것을 알 수 있다.** 이러한 파급효과를 줄이기 위해서라도 시스템 구축 설계 작업 중 제일 세심하게 다루고 중요하게 생각 해야하는 것이 데이터 설계이다.

### 간결한 표현(Conciseness)

데이터 모델은 시스템의 요구사항과 한계를 가장 명확하고 간결하게 표현할 수 있는 도구이다. 요구사항을 파악하기 가장 좋은 방법은 수 많은 페이지를 파악하는 것보다 간결하게 그려져 있는 데이터 모델을 리뷰하면서 파악하는 것이 빠르다.

### 데이터 품질(Data Quality)

데이터베이스에 담겨있는 데이터는 중요한 자산이다. 데이터베이스의 데이터들은 오래될 수록 값이 올라가는 반면 정확성이 떨어지거나 필요가 없는 데이터라면 비즈니스의 기회를 잃어버릴 수 도 있는 크나큰 문제점을 야기할 수 있다. 그렇기에 오랜 기간 저장될 수 있는 데이터의 품질을 높이기 위해서 세심한 데이터 모델링이 정말 중요하다.

## 데이터 모델링의 유의점

데이터 품질의 문제가 야기되는 이유 중 하나가 데이터 구조의 문제이다. 데이터 품질을 저하하는 요소로는 `중복(Duplication)`, `비유연성(Inflexibility)`, `비일관성(Inconsistency)`으로 3가지 정도로 정의할 수 있다.

### 중복(Duplication)

<s>데이터 모델은 같은 데이터를 사용하는 사람, 시간, 장소 등 도움을 준다. 이러한 정보들은 여러 장소에 같은 정보를 저장하는 잘못을 하지않도록한다.</s> (책에 적혀있기론 이렇게 적혀있지만 말이 안맞는 이야기 같아 재해석 합니다.)  
데이터 모델을 정의할 때에는 다양한 정보를 추상화하게 된다. 하지만 **동일한 의미의 모델을 여러번 정의하지 않도록 주의**해야한다.

### 비유연성(Inflexibility)

업무는 계속해서 정책의 변경으로 인해 프로세스가 바뀔 수 있다. 그렇기에 데이터 모델이 자주 수정될 수 있는데, 데이터 모델이 자주 수정 되지않고도 변경된 프로세스에 적용할 수 있도록 설계해야한다. **데이터 정의를 데이터의 사용 프로세스와 분리**함으로써 데이터 혹은 프로세스의 변화로 인해 **애플리케이션과 데이터베이스에 큰 변화를 줄 수 있는 가능성을 줄일 수 있다.**

### 비일관성(Inconsistency)

데이터 중복이 없더라도 비일관성은 발생할 수 있다.  
아래 예시를 통해 쉽게 비일관성에 대해 이해를 해보자.

> 캐릭터의 HP 변경이 없이 해당 캐릭터의 전체 상태 정보를 갱신할 때 오류가 발생할 수 있다.

위 상황 처럼 데이터의 일관성이 깨지게 되면 안되기 때문에 **데이터와 데이터간의 상호 연관 관계에 대한 명확한 정의**를 통해 이러한 **비일관성의 위험을 방지**할 수 있다.

# 데이터 모델링의 3단계 진행

데이터 모델링은 `개념적 데이터 모델링`, `논리적 데이터 모델링`, `물리적 데이터 모델링` 총 3단계로 진행된다.

![데이터 모델링의 3단계 개념도](../../images/image_1.png)

처음 현실세계에서 추상화 수준이 높은 상위 수준을 형상화하기 위해 `개념적 데이터 모델링`을 사용한다. 개념적 데이터 모델은 **추상화 수준이 높고** **업무 중심적**이다.  
`엔티티(Entity)` 중심의 상위 수준의 데이터 모델이 완성되면 **업무의 구체적인 모습과 흐름**에 따른 업무 중심의 데이터 모델을 만들어 내는 것을 `논리적 데이터 모델링`이라고 한다. 이후 데이터베이스의 저장구조에 따른 테이블스페이스를 고려한 모델링이 `물리적 데이터 모델링`이라고 한다.  

## 개념적 데이터 모델링(Conceptual Data Modeling)
E-RD(Entity-Relation Diagram, 엔티티-관계 다이어그램)을 사용하여 핵심 엔티티 정의와 엔티티간의 관계를 명확하게 그리는 과정이다. 이를 통해 2가지 기능을 지원한다. 첫 번째, 데이터 요구 사항을 명확하게 뽑아 낼 수 있다. 두 번째, 추상적 모델링을 통해 시스템의 변형이 어떻게 되어야할지 쉽게 판별할 수 있다.  

## 논리적 데이터 모델링(Logical Data Modeling)
가장 중요한 활동은 `정규화`이다. 식별자 확정, m:m 관계 없애기, 참조 무결성 규칙 정의 등이 있으며, 데이터의 이력을 관리하는 전략을 정의해 데이터 모델링을 완성하게 된다.

## 물리적 데이터 모델링(Physical Data Modeling)
데이터베이스 관리자(DBA)가 물리적 스키마를 설계하고 구현해야하기 때문에 많은 시간이 필요한 모델링 과정이다. 

# 프로젝트 생명주기(Life Cycle)에서 데이터 모델링
계획 -> 분석 -> 설계 -> 개발 -> 테스트 -> 전환/이행 순으로 진행되는 생명주기에 데이터 모델링은 아래 정리표와 같이 정리할 수 있다.

|프로젝트 생명주기|연관 데이터 모델링|
|------|---|
|계획, 분석|개념적 데이터 모델링|
|분석|논리적 데이터 모델링|
|설계|물리적 데이터 모델링|

하지만 현업 프로젝트를 수행할 때에는 개념적 데이터 모델링이 논리적 데이터 모델링과 함께 진행 되곤 한다.  

# 데이터 모델링에서 데이터 독립성의 이해 
## 필요성
데이터 모델링에서 데이터 독립성이 필요한 이유는 아래 4가지로 정리할 수 있다.
1. 유지보수 비용 증가  
2. 데이터 중복성 증가  
3. 데이터 복잡도 증가  
4. 요구사항 대응 저하  

위와 같이 명확한 필요성으로 인해 미국 표준 협회(ANSI) 산하 기관인 X3 위원회에서 1978년 `three-schema architecture`로 정의할 수 있다.  

데이터 독립성을 확보 하였을 때에는 아래 2가지 효과를 얻을 수 있다.
 + 각 View의 독립성을 유지하고 계층별 View에 영향을 주지 않고 변경이 가능하다.
 + 단계별 스키마에 따라 데이터 정의어(DDL)와 데이터 조작어(DML)가 다름을 제공한다.

## 데이터베이스 3단계 구조
![데이터 독립성](../../images/image_2.png)


